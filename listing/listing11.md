### Вопрос

Что выведет данная программа и почему?
```go
func main() {
    wg := sync.WaitGroup{}
    for i := 0; i < 5; i++ {
        wg.Add(1)
        go func(wg sync.WaitGroup, i int) {
            fmt.Println(i)
            wg.Done()
        }(wg, i)
    }
    wg.Wait()
    fmt.Println("exit")
}
```

### Ответ

Вывод:

```go
// 5 чисел от 0 до 5 в случайном порядке на каждой строке

fatal error: all goroutines are asleep - deadlock!
	
// стек вызовов с паникой
```

Объяснение:

WaitGroup надо передавать по указателю, поэтому в данном случае в созданных
горутинах мы подтвердили завершение копии wg, поэтому исходная wg не могла
дождаться завершения работы, а шедулер го определил эту ситуацию как дедлок и
спаниковал.